<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Convert SVG to PNG</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f5f5f5;
      line-height: 1.6;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1, h2 {
      color: #333;
    }
    .step {
      margin-bottom: 30px;
      padding: 20px;
      background-color: #f9f9f9;
      border-radius: 8px;
    }
    .canvas-container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .icon-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      background-color: white;
    }
    button {
      background-color: #4285f4;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      margin-top: 10px;
    }
    button:hover {
      background-color: #3b78e7;
    }
    code {
      background-color: #f0f0f0;
      padding: 2px 4px;
      font-family: monospace;
      border-radius: 3px;
    }
    .note {
      padding: 10px;
      background-color: #fff8e1;
      border-left: 4px solid #ffca28;
      margin: 15px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Chrome Extension Icon Generator</h1>
    <p>This tool will help you generate the required PNG icons for your Chrome extension.</p>
    
    <div class="note">
      <strong>Important:</strong> Chrome extensions require PNG files for icons. This tool will help you convert the provided SVGs to PNGs.
    </div>
    
    <div class="step">
      <h2>Step 1: Convert Icons</h2>
      <p>Click the buttons below to generate PNG files for each required icon size:</p>
      
      <div class="canvas-container">
        <div class="icon-item">
          <h3>Icon 16x16</h3>
          <div>
            <svg id="svg16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
              <rect width="16" height="16" rx="3" fill="#4285f4" />
              <rect x="3" y="4" width="10" height="1.5" rx="0.5" fill="white" />
              <rect x="3" y="7" width="10" height="1.5" rx="0.5" fill="white" />
              <rect x="3" y="10" width="7" height="1.5" rx="0.5" fill="white" />
            </svg>
          </div>
          <canvas id="canvas16" width="16" height="16" style="border:1px solid #ddd; margin-top:10px;"></canvas>
          <button onclick="convertToPng(16)">Generate PNG</button>
        </div>
        
        <div class="icon-item">
          <h3>Icon 48x48</h3>
          <div>
            <svg id="svg48" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
              <rect width="48" height="48" rx="8" fill="#4285f4" />
              <rect x="9" y="12" width="30" height="4" rx="1" fill="white" />
              <rect x="9" y="20" width="24" height="4" rx="1" fill="white" />
              <rect x="9" y="28" width="30" height="4" rx="1" fill="white" />
              <rect x="9" y="36" width="16" height="4" rx="1" fill="white" />
            </svg>
          </div>
          <canvas id="canvas48" width="48" height="48" style="border:1px solid #ddd; margin-top:10px;"></canvas>
          <button onclick="convertToPng(48)">Generate PNG</button>
        </div>
        
        <div class="icon-item">
          <h3>Icon 128x128</h3>
          <div>
            <svg id="svg128" xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 128 128">
              <rect width="128" height="128" rx="20" fill="#4285f4" />
              <rect x="24" y="30" width="80" height="10" rx="2" fill="white" />
              <rect x="24" y="50" width="60" height="10" rx="2" fill="white" />
              <rect x="24" y="70" width="80" height="10" rx="2" fill="white" />
              <rect x="24" y="90" width="40" height="10" rx="2" fill="white" />
            </svg>
          </div>
          <canvas id="canvas128" width="128" height="128" style="border:1px solid #ddd; margin-top:10px;"></canvas>
          <button onclick="convertToPng(128)">Generate PNG</button>
        </div>
        
        <div class="icon-item">
          <h3>Default Favicon</h3>
          <div>
            <svg id="svgFavicon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
              <rect width="16" height="16" rx="3" fill="#888888" />
              <rect x="3" y="4" width="10" height="1.5" rx="0.5" fill="white" />
              <rect x="3" y="7" width="10" height="1.5" rx="0.5" fill="white" />
              <rect x="3" y="10" width="7" height="1.5" rx="0.5" fill="white" />
            </svg>
          </div>
          <canvas id="canvasFavicon" width="16" height="16" style="border:1px solid #ddd; margin-top:10px;"></canvas>
          <button onclick="convertToPng('favicon')">Generate PNG</button>
        </div>
      </div>
    </div>
    
    <div class="step">
      <h2>Step 2: Save the Icons</h2>
      <p>For each generated icon:</p>
      <ol>
        <li>Right-click on the generated image in the canvas</li>
        <li>Select "Save Image As..."</li>
        <li>Save with the appropriate filename:
          <ul>
            <li><code>icon16.png</code> - for the 16x16 icon</li>
            <li><code>icon48.png</code> - for the 48x48 icon</li>
            <li><code>icon128.png</code> - for the 128x128 icon</li>
            <li><code>default-favicon.png</code> - for the default favicon</li>
          </ul>
        </li>
        <li>Save all icons to the <code>images/</code> directory of your extension</li>
      </ol>
    </div>
    
    <div class="step">
      <h2>Step 3: Use in Your Extension</h2>
      <p>The manifest.json file is already configured to use these icon files at their appropriate paths.</p>
      <div class="note">
        <strong>Note:</strong> If you prefer to use the SVG files directly, you can rename the <code>manifest_with_svg.json</code> file to <code>manifest.json</code>, but this may cause compatibility issues with some older Chrome versions.
      </div>
    </div>
  </div>

  <script>
    function convertToPng(size) {
      let svgId, canvasId, fileName;
      
      if (size === 'favicon') {
        svgId = 'svgFavicon';
        canvasId = 'canvasFavicon';
        fileName = 'default-favicon.png';
      } else {
        svgId = 'svg' + size;
        canvasId = 'canvas' + size;
        fileName = 'icon' + size + '.png';
      }
      
      const svg = document.getElementById(svgId);
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext('2d');
      
      // Create a data URL from the SVG
      const svgData = new XMLSerializer().serializeToString(svg);
      const svgBlob = new Blob([svgData], {type: 'image/svg+xml;charset=utf-8'});
      const url = URL.createObjectURL(svgBlob);
      
      // Create an image from the SVG data URL
      const img = new Image();
      img.onload = function() {
        // Clear the canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Draw the image on the canvas
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        
        // Revoke the object URL to free memory
        URL.revokeObjectURL(url);
        
        // Display a message
        alert('PNG generated! Right-click on the image and select "Save Image As..." to save it as ' + fileName);
      };
      
      img.src = url;
    }
  </script>
</body>
</html> 